<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Js-html5--video- by dangdangkhtn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script type='text/javascript' src='p5.dom.js'> </script>
  </head>
  <script> 
        document.addEventListener('DOMContentLoaded', function(){
            var v = document.getElementById('v');
            var canvas = document.getElementById('c');
            var context = canvas.getContext('2d');
            var back = document.createElement('canvas');
            var backcontext = back.getContext('2d');
        
            var cw,ch;
        
            v.addEventListener('play', function(){
                cw = v.clientWidth;
                ch = v.clientHeight;
                canvas.width = cw;
                canvas.height = ch;
                back.width = cw;
                back.height = ch;
                draw(v,context,backcontext,cw,ch);
            },false);
        
        },false);
    
        function draw(v,c,bc,w,h) {
            if(v.paused || v.ended)	return false;
            // First, draw it into the backing canvas
            bc.drawImage(v,0,0,w,h);
            // Grab the pixel data from the backing canvas
            var idata = bc.getImageData(0,0,w,h);
            var data = idata.data;
            // Loop through the pixels, turning them grayscale
            for(var i = 0; i < data.length; i+=4) {
                var r = 255 - data[i];
                var g = 255 - data[i+1];
                var b = 255 - data[i+2];
                var alpha = 255;
                data[i] = r;
                data[i+1] = g;
                data[i+2] = b;
                data[i+3] = alpha;
            }
            idata.data = data;
            // Draw the pixels onto the visible canvas
            c.putImageData(idata,0,0);
            // Start over!
            setTimeout(draw,20,v,c,bc,w,h);
        }
  </script> 
  <body>
    <section class="page-header">
      <h1 class="project-name">HTML5 Canvas, Video, JS</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/dangdangkhtn/JS-HTML5--Video-" class="btn">View on GitHub</a>
      <a href="https://github.com/dangdangkhtn/JS-HTML5--Video-/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/dangdangkhtn/JS-HTML5--Video-/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="Demonstration" class="anchor" href="#Demonstration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demonstration</h3>

<p>This page for demonstrate how to use HTML5 canvas and video together, click play and see effect</p>
<video id=v width="400" controls>
  <source src="mov_bbb.mp4" type="video/mp4">
  Your browser does not support HTML5 video.
</video>
<canvas id=c></canvas>
<h3>
    <a id="contact" class="anchor" href="#contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contacting Technical Support:</h3>
<p>	        Tran Hai Dang</p>
<p>			Phone: +84188-470-2689</p>
<p>			Email: dangdangkhtn@gmail.com</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/dangdangkhtn/JS-HTML5--Video-">Js-html5--video-</a> is maintained by <a href="https://github.com/dangdangkhtn">dangdangkhtn</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>
  </body>
</html>
